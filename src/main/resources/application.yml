# application.yml

# Spring基础配置
spring:
  application:
    name: inventory-backend

  datasource:
    url: jdbc:mysql://localhost:3306/inventory_system?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        default_batch_fetch_size: 16
        dialect: org.hibernate.dialect.MySQLDialect

  # Swagger配置（新增）
  springdoc:
    api-docs:
      enabled: true
      path: /v3/api-docs
    swagger-ui:
      path: /swagger-ui.html
      operationsSorter: method      # 按方法排序（GET/POST/PUT/DELETE）
      tagsSorter: alpha            # 按标签字母排序
      docExpansion: none           # 折叠所有接口
      defaultModelRendering: model # 显示模型而非示例

# 日志配置
logging:
  level:
    org.springframework.jdbc: INFO
    org.springframework.jdbc.core.JdbcTemplate: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.hibernate.type: INFO
    org.hibernate.orm.jdbc.bind: INFO
    com.example.inventory: DEBUG
    org.springframework.transaction: INFO
    org.springframework.web: INFO
    org.springframework.security: INFO

# 服务器配置
server:
  port: 8080

# 推荐算法配置
recommendation:
  weights:
    sales: 0.4
    freshness: 0.3
    profit: 0.2
    time: 0.1
  replenishment:
    period-days: 14         # 补货周期（天）
    safety-stock-days: 7    # 安全库存天数
    max-stock: 200          # 单品最大库存
